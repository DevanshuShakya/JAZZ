<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Megrim&family=Zeyada&family=Rock+Salt&display=swap"
        rel="stylesheet">
</head>

<body style="font-family: century gothic;">
    <div class="container">

        <!-- Nav Bar  -->
        <nav class="navbar navbar-expand-lg" style="padding:20px;">
            <div class="container-fluid">

                <!-- Company -->
                <a class="navbar-brand" href="#" style="font-family: Megrim;">
                    <h1 style="font-weight: bold; font-size: 250;">JAZZ</h1>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>


                <div class="collapse navbar-collapse" id="navbarSupportedContent" style="margin-left: 50px;">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                        {% if current_user.is_authenticated %}

                        <li class="nav-item" style="font-size: large;">
                            <a class="nav-link" aria-current="page" href="/logout">Logout</a>
                        </li>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                        <li class="nav-item" style="font-size: large;">
                            <a class="nav-link" aria-current="page" href="/user_profile">Profile</a>
                        </li>


                        {% else %}


                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                        <li class="nav-item">
                            <a class="nav-link" href="/login" style="font-size: large;">Login</a>
                        </li>

                        {% endif %}
                    </ul>

                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                    <button class="btn btn-outline-dark" type="button" style="border-radius: 0%;" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvas_creators" aria-controls="offcanvas_creators">Creators</button>

                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                    <button class="btn btn-outline-dark" type="button" style="border-radius: 0%;" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">Tracks</button>


                    &nbsp;&nbsp;&nbsp;
                    <button style="border-radius: 0px;" class="btn btn-outline-dark" type="button" data-bs-toggle="offcanvas" 
                       data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Albums</button>



                </div>

            </div>
        </nav>
        <!-- Tracks -->
        <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions"
            aria-labelledby="offcanvasWithBothOptionsLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Backdrop with scrolling</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                {% for track in tracks %}
                <div class="card" style="margin-bottom: 10px; background-color: #f1f3f4; border: none;">
                    <div class="card-body">
          
                      <div class="row">
                        <div class="col-sm-9">
                          <h5>{{track.title}}</h5>
                          <h6 style="color: #595c5f;">{{track.singers}}</h6>
                        </div>
                        <div class="col-sm" style="margin-top: 12px;">
                          <a href="{{url_for('watch',id=track.id)}}" style="text-decoration: none; color: black;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="black" class="bi bi-play-fill"
                              viewBox="0 0 16 16">
                              <path
                                d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z" />
                            </svg>
                          </a>
          
                        </div>
                      </div>
          
                    </div>
                  </div>
                {% endfor %}
            </div>
        </div>


        <!-- Albums -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasRightLabel">Offcanvas right</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                {% for album in albums %}
                <a href="{{url_for('play_album', album_id= album.id, song_id= 0)}}" style="text-decoration: none;">
                    <div class="card" style="margin-bottom: 10px;">
                      <div class="card-body" style="font-family: rock salt; font-weight: bolder;">
                        {{album.name}}
                        <span style="font-family: century gothic; font-weight: 100;font-size: small;"> by {{album.artist}}</span>
          
                      </div>
                    </div>
                  </a>
                {% endfor %}
            </div>
        </div>

        <!-- Creators -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvas_creators" aria-labelledby="offcanvasRightLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasRightLabel">Creators</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                {% for creator in creators %}
                <a href="" style="text-decoration: None;">
                    <div class="card">
                        <div class="card-body">
                            {{creator.email}}
                        </div>
                    </div>
                </a>
                    <br>
                {% endfor %}
            </div>
        </div>
        <br>


        <div class="row" style="text-align: center;">

            <div class="col-sm-3" style="padding-right: 50px; padding-top:65px ;">

                <div class="card" style="height: 12rem;">
                    <div class="card-body">
                        <br>
                        <h4>Normal Users</h4>
                        <br>
                        <h1>{{total_users}}</h1>
                    </div>
                </div>
                <br>
                <br>
                <div class="card" style="height: 12rem;">
                    <div class="card-body">
                        <br>
                        <h4>Creators</h4>
                        <br>
                        <h1>{{total_creators}}</h1>
                    </div>
                </div>
                <br>


            </div>

            <div class="col-sm">
                <h3 style="text-align: left;">App Performance</h3>
                <br>
                <div class="row">
                    <div class="col-sm">
                        <div class="card">
                            <div class="card-body">
                                <h4>Tracks</h4>
                                <h5>{{total_tracks}}</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm">
                        <div class="card">
                            <div class="card-body">
                                <h4>Total Albums</h4>
                                <h5>{{total_albums}}</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm">
                        <div class="card">
                            <div class="card-body">
                                <h4>Genre</h4>
                                <h5>8</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" style="padding-left: 30px;">
                    <!-- Display the Plotly figure -->
                    <div id="plotly-plot">
                        {{ plotly_html | safe }}
                    </div>
                </div>

            </div>

            <!-- <h1 style="text-align: left;">Creators</h1>

            <div class="row">
                <div class="card">
                    <div class="card-body">

                    </div>
                </div>
            </div> -->

        </div>




    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>